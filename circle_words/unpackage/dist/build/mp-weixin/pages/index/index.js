(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0c25":function(t,e,n){"use strict";n.r(e);var a=n("a552"),o=n("64ea");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("8844");var u,i=n("f0c5"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"062f94d1",null,!1,a["a"],u);e["default"]=c.exports},2208:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("d073"),o=r(n("de90"));function r(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{img:"",state:!1}},onLoad:function(){this.islogin(),this.state=o.default.state.loginState},methods:{getWords:function(){var e=o.default.state.loginState;1==e?t.chooseImage({success:function(e){t.navigateTo({url:"../words/words?imgurl="+e.tempFilePaths})}}):this.login()},search:function(){t.navigateTo({url:"../search/search"})},login:function(){var e=this,n="";wx.getUserProfile({desc:"用于完善会员资料",success:function(r){var u=JSON.parse(r.rawData);console.log(u.avatarUrl),(0,a.setStore)("name",u.nickName),(0,a.setStore)("avatar",u.avatarUrl),wx.login({provider:"weixin",success:function(u){n=u.code,console.log(n),t.request({url:"https://thesongof404.top:8080/login",method:"POST",data:{code:n,info:r.rawData},success:function(n){if(e.state=!0,console.log(n),200==n.data.code){var r=n.data.token;(0,a.setStore)("token",r),o.default.commit("ISLOGIN"),t.navigateTo({url:"../usage/usage"})}},fail:function(){e.login()}})}})}})},islogin:function(){var e=this,n=wx.getStorageSync("token");t.request({url:"https://thesongof404.top:8080/validate",method:"POST",header:{Authorization:n},success:function(t){1!=t.data.state?(e.state=!1,o.default.commit("NEEDLOGIN")):(e.state=!0,o.default.commit("ISLOGIN"))}})}}};e.default=u}).call(this,n("543d")["default"])},"64ea":function(t,e,n){"use strict";n.r(e);var a=n("2208"),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},"727e":function(t,e,n){"use strict";(function(t){n("2bb5");a(n("66fd"));var e=a(n("0c25"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},8844:function(t,e,n){"use strict";var a=n("982b"),o=n.n(a);o.a},"982b":function(t,e,n){},a552:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={uniSearchBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar")]).then(n.bind(null,"9a33"))}},o=function(){var t=this,e=t.$createElement;t._self._c},r=[]}},[["727e","common/runtime","common/vendor"]]]);